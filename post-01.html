<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0, viewport-fit=cover">
<title>From Sketch to Sawdust — MDM Design Studio</title>
<link rel="stylesheet" href="style.css">
<style>
body { padding-top: 56px; padding-bottom: env(safe-area-inset-bottom, 120px); }
.post-header { background: var(--dark); padding: 48px 0 40px; border-bottom: 1px solid var(--border); position: relative; overflow: hidden; }
.post-header::before { content:''; position:absolute; inset:0; background-image: linear-gradient(var(--border2) 1px,transparent 1px),linear-gradient(90deg,var(--border2) 1px,transparent 1px); background-size:48px 48px; opacity:.3; pointer-events:none; }
.phi { position:relative; z-index:1; max-width:740px; margin:0 auto; padding:0 40px; }
.post-meta-row { display:flex; align-items:center; gap:14px; margin-bottom:20px; flex-wrap:wrap; }
.post-num-badge { font-size:16px; font-weight:600; letter-spacing:.3em; color:var(--gold); text-transform:uppercase; border:1px solid var(--border); padding:5px 12px; background:var(--darker); }
.post-date-str { font-size:16px; font-weight:400; letter-spacing:.15em; color:var(--muted); text-transform:uppercase; }
.post-cat { font-size:16px; font-weight:500; letter-spacing:.3em; color:var(--gold); text-transform:uppercase; }
.post-title { font-family:'Montserrat',sans-serif; font-weight:600; font-size:32px; line-height:1.2; letter-spacing:.01em; color:var(--text); margin-bottom:10px; }
.post-subtitle { font-family:'Montserrat',sans-serif; font-style:italic; font-weight:300; font-size:20px; color:var(--gold); margin-bottom:24px; line-height:1.4; }
.seo-box { background:var(--panel); border:1px solid var(--border); border-left:2px solid var(--gold); padding:13px 18px; margin-top:22px; }
.seo-box .seo-lbl { font-size:16px; font-weight:600; letter-spacing:.3em; color:var(--gold); text-transform:uppercase; margin-bottom:5px; display:block; }
.seo-box p { font-size:16px; font-weight:300; color:var(--text2); line-height:1.6; }
.pbw { max-width:740px; margin:0 auto; padding:48px 40px 0; }
.post-body h2 { font-family:'Montserrat',sans-serif; font-weight:600; font-size:22px; letter-spacing:.01em; color:var(--text); margin:36px 0 14px; line-height:1.3; }
.post-body h3 { font-family:'Montserrat',sans-serif; font-weight:500; font-size:18px; letter-spacing:.08em; color:var(--gold); text-transform:uppercase; margin:24px 0 10px; }
.post-body p { font-size:17px; font-weight:300; line-height:1.9; color:var(--text2); margin-bottom:18px; letter-spacing:.01em; }
.post-body em { font-style:italic; color:var(--text); }
.post-body strong { font-weight:600; color:var(--text); }
.post-body a { color:var(--gold); text-decoration:none; border-bottom:1px solid transparent; transition:border-color .2s; }
.post-body a:hover { border-bottom-color:var(--gold); }
.post-body p.cta-text { margin-top:36px; padding:22px 26px; background:var(--panel); border:1px solid var(--border); border-left:2px solid var(--gold); font-size:17px; font-style:italic; color:var(--text2); }

/* ── DISCUSSION SECTION ── */
.discussion-outer { max-width:740px; margin:0 auto; padding:48px 40px 0; }
.discussion-header { display:flex; align-items:center; justify-content:space-between; margin-bottom:20px; border-bottom:1px solid var(--border); padding-bottom:16px; }
.discussion-title { font-size:16px; font-weight:600; letter-spacing:.35em; color:var(--gold); text-transform:uppercase; }
.discussion-subtitle { font-size:16px; color:var(--muted); font-weight:300; margin-top:4px; }
.comment-form { background:var(--panel); border:1px solid var(--border); padding:20px; margin-bottom:28px; }
.comment-form-row { display:flex; gap:10px; margin-bottom:12px; }
.comment-name-input { flex:1; font-family:'Montserrat',sans-serif; font-size:16px; font-weight:400; background:var(--darker); border:1px solid var(--border); color:var(--text); padding:11px 14px; outline:none; transition:border-color .2s; }
.comment-name-input:focus { border-color:var(--gold); }
.comment-textarea { width:100%; box-sizing:border-box; font-family:'Montserrat',sans-serif; font-size:16px; font-weight:300; background:var(--darker); border:1px solid var(--border); color:var(--text); padding:12px 14px; resize:vertical; min-height:90px; outline:none; transition:border-color .2s; }
.comment-textarea:focus { border-color:var(--gold); }
.comment-submit { font-family:'Montserrat',sans-serif; font-size:16px; font-weight:600; letter-spacing:.25em; text-transform:uppercase; padding:11px 24px; background:var(--gold); color:var(--darker); border:none; cursor:pointer; transition:opacity .18s; margin-top:8px; }
.comment-submit:hover { opacity:.85; }
.comments-list { display:flex; flex-direction:column; gap:16px; margin-bottom:60px; }
.comment-item { background:var(--panel); border:1px solid var(--border); padding:18px 20px; }
.comment-item.highlight { border-left:2px solid var(--gold); }
.comment-meta { display:flex; align-items:center; gap:12px; margin-bottom:10px; }
.comment-author { font-size:16px; font-weight:600; color:var(--text); letter-spacing:.05em; }
.comment-time { font-size:16px; color:var(--muted); font-weight:300; }
.comment-status-tag { font-size:16px; font-weight:600; letter-spacing:.2em; text-transform:uppercase; padding:3px 9px; border-radius:2px; }
.comment-status-tag.approved { background:var(--approved-bg); color:var(--approved-txt); border:1px solid var(--approved-bd); }
.comment-status-tag.needs { background:var(--needs-bg); color:var(--needs-txt); border:1px solid var(--needs-bd); }
.comment-status-tag.rejected { background:var(--rejected-bg); color:var(--rejected-txt); border:1px solid var(--rejected-bd); }
.comment-body { font-size:17px; font-weight:300; color:var(--text2); line-height:1.75; }
.no-comments { font-size:16px; color:var(--dim); font-style:italic; padding:16px 0; }
.sync-note { font-size:16px; color:var(--muted); display:flex; align-items:center; gap:6px; }
.post-nav-outer { max-width:740px; margin:0 auto; padding:36px 40px 40px; display:flex; justify-content:space-between; align-items:flex-start; gap:14px; }
@media(max-width:600px) {
  .phi,.pbw,.discussion-outer,.post-nav-outer { padding-left:16px; padding-right:16px; }
  .post-title { font-size:24px; }
  .post-subtitle { font-size:18px; }
  .post-body h2 { font-size:20px; }
  .comment-form-row { flex-direction:column; }
  .post-nav-outer { padding-top:24px; flex-direction:column; }
}
</style>
</head>
<body>

<nav class="site-nav">
  <a href="index.html" class="nav-brand">
    <div class="nav-monogram">MDM</div>
    <span class="nav-title">Blog Review</span>
  </a>
  <div class="nav-right">
    <span class="live-dot" id="live-indicator">…</span>
    <a href="index.html" class="nav-back">← All Posts</a>
    <div class="nav-progress">
      <span class="nav-pill approved" id="pill-approved">0 ✓</span>
      <span class="nav-pill needs"    id="pill-needs">0 ⚠</span>
      <span class="nav-pill rejected" id="pill-rejected">0 ✕</span>
    </div>
  </div>
</nav>

<div class="post-header">
  <div class="phi">
    <div class="post-meta-row">
      <span class="post-num-badge">Post 01 of 25</span>
      <span class="post-date-str">Tuesday, March 3, 2026</span>
      <span class="post-cat">Process</span>
    </div>
    <h1 class="post-title">From Sketch to Sawdust</h1>
    <p class="post-subtitle">A Behind-the-Scenes Look at How a Custom Piece is Born</p>
    <div style="display:flex;align-items:center;gap:12px;margin-top:4px;">
      <span class="status-badge pending" id="status-badge"><span class="badge-text">Pending Review</span></span>
    </div>
    <div class="seo-box">
      <span class="seo-lbl">SEO Meta Description</span>
      <p>Curious how custom furniture actually gets made? MDM Design Studio walks you through the full process — from initial consultation to final installation — so you know exactly what to expect.</p>
    </div>
  </div>
</div>
<div class="gold-rule"></div>

<div class="pbw">
  <div class="post-body">
    <p>One of the questions we hear most at MDM Design Studio is some version of: <em>So how does this actually work?</em> It's a fair question. Custom furniture isn't something most people do every day, and walking into the process without a roadmap can feel intimidating. We want to change that. Here's an honest look at every step that happens between your first inquiry and the moment your new piece lands in your home.</p>

<h2>Step 1: The Conversation</h2>
<p>Every project starts with a conversation, not a contract. When you reach out to us — whether through our contact form, an email, or a phone call — we want to hear about your space, your lifestyle, and what you're hoping to accomplish. This isn't a sales pitch. It's us listening.</p>
<p>We'll ask things like: What room is this for? How do you use that room? What do you love or hate about what's there now? Do you have photos of inspiration? What's your timeline? These early details shape everything that comes next, so the more specific you can be, the better.</p>

<h2>Step 2: Site Measurement and Assessment</h2>
<p>Before a single design decision is made, we need accurate measurements. For built-ins, cabinetry, or pieces designed for a specific alcove or wall, we'll schedule a time to visit your space and take precise measurements ourselves. This step is non-negotiable — it's the difference between a piece that fits perfectly and one that causes headaches on installation day.</p>
<p>For clients outside our immediate area, we'll walk you through exactly what to measure and how to document your space so we can work with confidence remotely.</p>

<h2>Step 3: Design Development</h2>
<p>Once we understand your space and your vision, our team gets to work on the design. This phase involves sketches, drawings, and often 3D renderings that allow you to visualize the piece before any material is ever cut. We'll share these with you for review and feedback, and we'll refine until the design feels exactly right.</p>
<p>This is also when we discuss materials in depth — wood species, finish options, hardware, and any special details like fluting, inlay, or integrated lighting. Every choice you make here gets documented in detail so there's no ambiguity when production begins.</p>

<h2>Step 4: The Quote and Agreement</h2>
<p>Once the design is finalized, you'll receive a detailed quote that breaks down materials, labor, and timeline. We believe in transparency at this stage. You should know exactly what you're investing in and why. After approval, we'll collect a deposit to secure your spot in our build schedule.</p>

<h2>Step 5: Material Sourcing</h2>
<p>Great custom furniture starts with great material. After your deposit, we source your specific wood slabs, sheet goods, hardware, and any specialty components. We're selective at this stage — grain patterns, color consistency, and structural integrity all matter. If something isn't right, we keep looking.</p>

<h2>Step 6: The Build</h2>
<p>This is where the magic happens. Your piece moves from drawings into reality inside our Birmingham studio. Depending on the complexity of the project, the build phase might involve CNC cutting, hand joinery, laminating, bending, carving, or a combination of all of the above. We work methodically, checking quality at every stage.</p>
<p>Clients often ask if they can visit the studio during the build. We love that question — yes, we're happy to welcome you in to see your piece coming to life.</p>

<h2>Step 7: Finishing</h2>
<p>Once the structure is complete, the piece moves to finishing. This is where sanding, staining, painting, lacquering, or oiling happens — and it's often the most time-consuming stage. A great finish requires multiple applications, drying time between coats, and careful inspection. We don't rush it.</p>

<h2>Step 8: Delivery and Installation</h2>
<p>The final step is getting your piece into your home and making sure it's perfect. For large built-ins or complex installations, our team handles everything. For freestanding furniture, we coordinate delivery carefully, protecting every surface in transit. Once everything is in place, we walk through the piece with you, explain care and maintenance, and make sure you're completely satisfied before we leave.</p>

<p class="cta-text">At MDM Design Studio, we believe the process itself is part of the value. You're not just receiving a piece of furniture — you're part of building it. Ready to get started? <a href="https://mdmdesignstudio.com/get-a-quote/">Get a quote</a> or reach out directly and let's talk about what we can make together.</p>
  </div>
</div>

<!-- DISCUSSION -->
<div class="discussion-outer">
  <div class="discussion-header">
    <div>
      <div class="discussion-title">Discussion</div>
      <div class="discussion-subtitle">Notes and feedback — visible to everyone</div>
    </div>
    <span class="sync-note" id="sync-note">
      <span class="live-dot" id="disc-live" style="display:inline-flex;margin:0;"></span>
      Live
    </span>
  </div>

  <div class="comment-form">
    <div class="comment-form-row">
      <input type="text" class="comment-name-input" id="commenter-name" placeholder="Your name" maxlength="60">
    </div>
    <textarea class="comment-textarea" id="comment-text" placeholder="Leave a note, question, or feedback on this post — everyone can see it…"></textarea>
    <br>
    <button class="comment-submit" onclick="submitComment(1)">Post Note</button>
  </div>

  <div class="comments-list" id="comments-list">
    <p class="no-comments" id="no-comments-msg">No notes yet. Be the first to leave one.</p>
  </div>
</div>

<div class="post-nav-outer">
  <div></div>
  <div style="padding-top:16px;font-size:16px;font-weight:500;letter-spacing:.3em;color:var(--muted);text-transform:uppercase;">Post 1 of 25</div>
  <a class="post-nav-btn right" href="post-02.html"><div><span class="nav-meta">Next</span><span class="nav-name">Why the First Measurement Matters Most</span></div><span class="nav-arrow">›</span></a>
</div>

<!-- FLOATING REVIEW BAR -->
<div class="fab">
  <div class="fab-label">Your Review</div>
  <div class="fab-comment-box" id="fab-comment-box">
    <textarea class="fab-textarea" id="fab-textarea" placeholder="Leave a note visible to everyone…" rows="3"></textarea>
    <button class="fab-save-comment" onclick="fabSaveNote(1)">Post Note</button>
  </div>
  <div class="fab-buttons">
    <button class="fab-comment-toggle" onclick="toggleCommentBox()">+ Note</button>
    <button class="fab-btn needs"   data-action="needs"    onclick="fabAction(1,'needs')">⚠ Changes</button>
    <button class="fab-btn reject"  data-action="rejected" onclick="fabAction(1,'rejected')">✕ Reject</button>
    <button class="fab-btn approve" data-action="approved" onclick="fabAction(1,'approved')">✓ Approve</button>
  </div>
</div>

<script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-app-compat.js"></script>
<script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-database-compat.js"></script>
<script src="https://cdn.jsdelivr.net/npm/@emailjs/browser@4/dist/email.min.js"></script>
<script src="app.js"></script>
<script>
const POST_ID = 1;
const liveEl = document.getElementById('live-indicator');

window.addEventListener('DOMContentLoaded', () => {
  if (typeof emailjs !== 'undefined' && CONFIG.emailjsPublicKey !== 'YOUR_EMAILJS_PUBLIC_KEY') {
    emailjs.init(CONFIG.emailjsPublicKey);
  }
  initFirebase();
  initPostPage(POST_ID);
  loadComments(POST_ID);

  if (IS_CONFIGURED) {
    const connRef = firebase.database().ref('.info/connected');
    connRef.on('value', snap => {
      const c = snap.val();
      liveEl.textContent = c ? 'Live' : 'Offline';
      liveEl.className = 'live-dot ' + (c ? 'connected' : 'offline');
      const dl = document.getElementById('disc-live');
      if (dl) dl.className = 'live-dot ' + (c ? 'connected' : 'offline');
    });
  } else {
    liveEl.textContent = 'Local';
    liveEl.className = 'live-dot offline';
  }
});

// ── Comments ──────────────────────────────────────────────────────────────────

function loadComments(postId) {
  if (!IS_CONFIGURED || !_dbRef) { renderComments([]); return; }
  const commentsRef = firebase.database().ref(CONFIG.dbPath + '-comments/' + postId);
  commentsRef.on('value', snap => {
    const data = snap.val() || {};
    const list = Object.values(data).sort((a,b) => new Date(a.ts) - new Date(b.ts));
    renderComments(list);
  });
}

function renderComments(comments) {
  const el = document.getElementById('comments-list');
  const noMsg = document.getElementById('no-comments-msg');
  if (!comments.length) {
    if (noMsg) noMsg.style.display = '';
    // Clear any existing cards
    el.querySelectorAll('.comment-item').forEach(c => c.remove());
    return;
  }
  if (noMsg) noMsg.style.display = 'none';
  el.querySelectorAll('.comment-item').forEach(c => c.remove());
  comments.forEach(c => {
    const div = document.createElement('div');
    div.className = 'comment-item' + (c.status && c.status !== 'pending' ? ' highlight' : '');
    const statusTag = c.status && c.status !== 'pending'
      ? `<span class="comment-status-tag ${c.status}">${{approved:'✓ Approved',needs:'⚠ Changes',rejected:'✕ Rejected'}[c.status] || c.status}</span>`
      : '';
    const timeStr = new Date(c.ts).toLocaleString('en-US', {month:'short',day:'numeric',hour:'numeric',minute:'2-digit'});
    div.innerHTML = `
      <div class="comment-meta">
        <span class="comment-author">${c.author || 'Anonymous'}</span>
        <span class="comment-time">${timeStr}</span>
        ${statusTag}
      </div>
      <div class="comment-body">${c.text}</div>
    `;
    el.appendChild(div);
  });
}

async function submitComment(postId) {
  const nameEl = document.getElementById('commenter-name');
  const textEl = document.getElementById('comment-text');
  const name = (nameEl.value || '').trim() || 'Anonymous';
  const text = (textEl.value || '').trim();
  if (!text) return;

  const record = {
    author: name,
    text: text,
    status: null,
    ts: new Date().toISOString()
  };

  if (IS_CONFIGURED && _dbRef) {
    const commentsRef = firebase.database().ref(CONFIG.dbPath + '-comments/' + postId);
    await commentsRef.push(record);
  } else {
    // Local fallback — append to rendered list
    const list = [];
    list.push(record);
    renderComments(list);
  }

  textEl.value = '';
  showToast('comment');
}

// Override fabSaveNote to also post as comment with status
async function fabSaveNote(postId) {
  const ta = document.getElementById('fab-textarea');
  const nameEl = document.getElementById('commenter-name');
  const text = ta ? ta.value.trim() : '';
  if (!text) { toggleCommentBox(); return; }

  const d = getPostData(postId);
  const name = (nameEl && nameEl.value.trim()) || 'MDM Team';
  await setPostData(postId, d.status || 'pending', text);

  // Also post as public comment
  const record = {
    author: name,
    text: text,
    status: d.status !== 'pending' ? d.status : null,
    ts: new Date().toISOString()
  };
  if (IS_CONFIGURED && _dbRef) {
    const commentsRef = firebase.database().ref(CONFIG.dbPath + '-comments/' + postId);
    await commentsRef.push(record);
  }

  if (ta) ta.value = '';
  toggleCommentBox();
  showToast('comment');
}

// Also post a comment when status changes via fab buttons
const _origFabAction = window.fabAction;
window.fabAction = async function(postId, action) {
  await _origFabAction(postId, action);
  // Post a status-change comment automatically
  const d = getPostData(postId);
  const nameEl = document.getElementById('commenter-name');
  const name = (nameEl && nameEl.value.trim()) || 'Reviewer';
  const statusLabels = {approved:'✓ Approved this post',needs:'⚠ Flagged for changes',rejected:'✕ Rejected this post',pending:'Reset to pending'};
  const record = {
    author: name,
    text: statusLabels[d.status] || d.status,
    status: d.status !== 'pending' ? d.status : null,
    ts: new Date().toISOString()
  };
  if (IS_CONFIGURED && _dbRef) {
    const commentsRef = firebase.database().ref(CONFIG.dbPath + '-comments/' + postId);
    await commentsRef.push(record);
  }
};
</script>
</body>
</html>